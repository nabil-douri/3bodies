<html>
	<head>
		<link rel="stylesheet" href="style.css">
		<script type="text/javascript" src="body.js"></script>
		<script type="text/javascript" src="display.js"></script>
		<script type="text/javascript" src="universe.js"></script>
	</head>
	<body>
		<!-- <canvas id="main" width="2000" height="2000">test</canvas> -->
		<svg id="main" xmlns="http://www.w3.org/2000/svg">
		</svg>
		<!-- <div id="main"></div> -->
		<div class="controls zoom-controls">
			<button onclick="zoom(1.1)">+</button>
			<button onclick="zoom(0.9)">-</button>
		</div>
		<div class="controls play-controls">
			<button id="button_pause_play" onclick="pause_play(this.id)">&#x23F8;</button>
		</div>
		
		<script>
			const displayFrequency = 100;
			const physicsFrequency = 100e3;
			const physicsLoopFrequency = 100;
			const universeSize = 5000;
			
			let universe = new Universe(1 / physicsFrequency, 1 / physicsLoopFrequency, universeSize);
			universe.initialize();
			//console.log(universe);
			
			setInterval(function() {
				universe.next();
			}, 1000 / physicsLoopFrequency);
			
			setInterval(function() {
				const start = Date.now();
			
				universe.plot();
				
				const t = (Date.now() - start) / 1000;
				const displayF = 1 / t;
				const physicsF = (physicsFrequency / displayFrequency) / t;
				console.log("Display : " + displayF + " Hz\nPhysics : " + physicsF + " Hz\nPhysics Period : " + universe.physicsPeriod + "\nTotal energy : " + universe.totalEnergy.currentValue);
				console.log(universe);
			}, 1000 / displayFrequency);

		</script>
	</body>
</html>
